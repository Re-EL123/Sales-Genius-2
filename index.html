<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sales Genius by Re-EL - Login</title>
<link rel="stylesheet" href="css/style.css">
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#e0f7ff; display:flex; justify-content:center; align-items:center; min-height:100vh; }
.auth-container { display:flex; flex-direction:column; align-items:center; justify-content:center; gap:20px; }
.logo { width:120px; margin-bottom:10px; animation:logoPulse 2s infinite; }
.auth-box { background:white; padding:25px 30px; border-radius:12px; box-shadow:0 2px 12px rgba(0,0,0,0.2); width:300px; display:flex; flex-direction:column; gap:10px; transition:transform 0.3s; }
.auth-box:hover { transform: translateY(-5px); }
.auth-box h2 { margin:0 0 10px; text-align:center; color:#00bfff; }
.auth-box input { padding:10px; border-radius:5px; border:1px solid #ccc; width:100%; }
.auth-box button { padding:10px; border:none; border-radius:5px; background:#00bfff; color:white; font-weight:bold; cursor:pointer; transition:0.3s; }
.auth-box button:hover { background:#009acd; transform:scale(1.05); }
.auth-box p { text-align:center; font-size:14px; }
.auth-box span { color:#00bfff; cursor:pointer; font-weight:bold; }
@keyframes logoPulse {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}
</style>
</head>
<body>
<div class="auth-container">
    <img src="assets/logo.png" alt="Sales Genius Logo" class="logo">
    <div class="auth-box" id="login-box">
        <h2>Login</h2>
        <input type="email" id="login-email" placeholder="Email">
        <input type="password" id="login-password" placeholder="Password">
        <button id="login-btn">Login</button>
        <p>Don't have an account? <span id="show-signup">Sign Up</span></p>
    </div>
    <div class="auth-box" id="signup-box" style="display:none;">
        <h2>Sign Up</h2>
        <input type="text" id="signup-username" placeholder="Username">
        <input type="email" id="signup-email" placeholder="Email">
        <input type="password" id="signup-password" placeholder="Password">
        <button id="signup-btn">Sign Up</button>
        <p>Already have an account? <span id="show-login">Login</span></p>
    </div>
</div>

<!-- Firebase -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, updateProfile } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBLD-z9z2Le8DAqYobMkd2kwurgI9B69rY",
    authDomain: "sales-genius-a.firebaseapp.com",
    projectId: "sales-genius-a",
    storageBucket: "sales-genius-a.firebasestorage.app",
    messagingSenderId: "443916526137",
    appId: "1:443916526137:web:87f76fa73b0a578b17a3e8",
    measurementId: "G-M9C615D3J5"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // Toggle login/signup forms
  const loginBox = document.getElementById('login-box');
  const signupBox = document.getElementById('signup-box');
  document.getElementById('show-signup').addEventListener('click', () => {
      loginBox.style.display = 'none';
      signupBox.style.display = 'flex';
  });
  document.getElementById('show-login').addEventListener('click', () => {
      signupBox.style.display = 'none';
      loginBox.style.display = 'flex';
  });

  // Signup
  document.getElementById('signup-btn').addEventListener('click', () => {
    const username = document.getElementById('signup-username').value;
    const email = document.getElementById('signup-email').value;
    const password = document.getElementById('signup-password').value;
    createUserWithEmailAndPassword(auth, email, password)
      .then(userCredential => {
        updateProfile(userCredential.user, { displayName: username });
        alert('Account created successfully!');
        window.location.href = 'dashboard.html';
      })
      .catch(error => alert(error.message));
  });

  // Login
  document.getElementById('login-btn').addEventListener('click', () => {
    const email = document.getElementById('login-email').value;
    const password = document.getElementById('login-password').value;
    signInWithEmailAndPassword(auth, email, password)
      .then(userCredential => {
        alert('Login successful!');
        window.location.href = 'dashboard.html';
      })
      .catch(error => alert(error.message));
  });

</script>
</body>
</html>
